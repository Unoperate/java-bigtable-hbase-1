gcloud dataproc clusters create cluster-perftest-1 --region europe-west1 --zone europe-west1-b --single-node --master-machine-type n1-standard-4 --master-boot-disk-type pd-ssd --master-boot-disk-size 100 --num-master-local-ssds 1 --image-version 2.0-debian10 --optional-components ZOOKEEPER,HBASE --project western-arch-330417

cbt --project western-arch-330417 createinstance perftest perftest perftest europe-west1-b 1 SSD


# TO CREATE
gcloud compute instances create instance-1 --project=western-arch-330417 --zone=europe-west1-b --machine-type=e2-medium --network-interface=network-tier=PREMIUM,subnet=default --maintenance-policy=MIGRATE --service-account=199800791904-compute@developer.gserviceaccount.com --scopes=https://www.googleapis.com/auth/cloud-platform --create-disk=auto-delete=yes,boot=yes,device-name=instance-1,image=projects/ubuntu-os-cloud/global/images/ubuntu-2004-focal-v20211102,mode=rw,size=10,type=projects/western-arch-330417/zones/europe-west1-b/diskTypes/pd-balanced --no-shielded-secure-boot --shielded-vtpm --shielded-integrity-monitoring --reservation-affinity=any

# TO START
gcloud compute instances start instance-1 --project=western-arch-330417 --zone europe-west1-b

# TO STOP
gcloud compute instances stop instance-1 --project=western-arch-330417 --zone europe-west1-b

cbt --project western-arch-330417 createinstance perftest perftest perftest europe-west1-b 1 SSD

# IPs
MACHINE_IP=$(gcloud compute instances list --project western-arch-330417 | grep instance-1 | awk '{print $5}')
INSTANCE_IP=$(gcloud compute instances list --project western-arch-330417 | grep cluster-perftest-1 | awk '{print $4}')
